ARM GAS  /tmp/ccpvwZBq.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 4
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"serial_log.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.thread,"ax",%progbits
  16              		.align	1
  17              		.syntax unified
  18              		.thumb
  19              		.thumb_func
  20              		.fpu softvfp
  22              	thread:
  23              	.LFB66:
  24              		.file 1 "app/serial_log/serial_log.c"
   1:app/serial_log/serial_log.c **** #include "usbd_cdc_if.h"
   2:app/serial_log/serial_log.c **** #include "cmsis_os.h"
   3:app/serial_log/serial_log.c **** 
   4:app/serial_log/serial_log.c **** static void thread(void const *arg);
   5:app/serial_log/serial_log.c **** osThreadId thread_handle;
   6:app/serial_log/serial_log.c **** 
   7:app/serial_log/serial_log.c **** void serial_log_init() {
   8:app/serial_log/serial_log.c ****   osThreadDef(serial_log_thread, thread, osPriorityNormal, 0, 128);
   9:app/serial_log/serial_log.c ****   thread_handle = osThreadCreate(osThread(serial_log_thread), NULL);
  10:app/serial_log/serial_log.c **** }
  11:app/serial_log/serial_log.c **** 
  12:app/serial_log/serial_log.c **** static void thread(void const *arg) {
  25              		.loc 1 12 0
  26              		.cfi_startproc
  27              		@ args = 0, pretend = 0, frame = 0
  28              		@ frame_needed = 0, uses_anonymous_args = 0
  29              	.LVL0:
  30 0000 10B5     		push	{r4, lr}
  31              	.LCFI0:
  32              		.cfi_def_cfa_offset 8
  33              		.cfi_offset 4, -8
  34              		.cfi_offset 14, -4
  35              	.LBB2:
  13:app/serial_log/serial_log.c ****   while(1) {
  14:app/serial_log/serial_log.c ****     /*char voltage_string[16] = {0};
  15:app/serial_log/serial_log.c ****     adc_voltage_formatted_string(voltage_string, sizeof voltage_string);
  16:app/serial_log/serial_log.c ****     char result_string[64] = {0};
  17:app/serial_log/serial_log.c ****     snprintf(result_string, sizeof result_string, "voltage: %s\n", voltage_string);
  18:app/serial_log/serial_log.c ****     CDC_Transmit_FS((uint8_t *)result_string, strlen(result_string));
  19:app/serial_log/serial_log.c **** */
  20:app/serial_log/serial_log.c ****     const char *result_string = "hello\n";
  21:app/serial_log/serial_log.c ****     CDC_Transmit_FS((uint8_t *)result_string, strlen(result_string));
  36              		.loc 1 21 0
  37 0002 054C     		ldr	r4, .L3
ARM GAS  /tmp/ccpvwZBq.s 			page 2


  38              	.LVL1:
  39              	.L2:
  40              		.loc 1 21 0 is_stmt 0 discriminator 1
  41 0004 0621     		movs	r1, #6
  42 0006 2046     		mov	r0, r4
  43 0008 FFF7FEFF 		bl	CDC_Transmit_FS
  44              	.LVL2:
  22:app/serial_log/serial_log.c ****     osDelay(500);
  45              		.loc 1 22 0 is_stmt 1 discriminator 1
  46 000c 4FF4FA70 		mov	r0, #500
  47 0010 FFF7FEFF 		bl	osDelay
  48              	.LVL3:
  49 0014 F6E7     		b	.L2
  50              	.L4:
  51 0016 00BF     		.align	2
  52              	.L3:
  53 0018 00000000 		.word	.LC2
  54              	.LBE2:
  55              		.cfi_endproc
  56              	.LFE66:
  58              		.section	.text.serial_log_init,"ax",%progbits
  59              		.align	1
  60              		.global	serial_log_init
  61              		.syntax unified
  62              		.thumb
  63              		.thumb_func
  64              		.fpu softvfp
  66              	serial_log_init:
  67              	.LFB65:
   7:app/serial_log/serial_log.c ****   osThreadDef(serial_log_thread, thread, osPriorityNormal, 0, 128);
  68              		.loc 1 7 0
  69              		.cfi_startproc
  70              		@ args = 0, pretend = 0, frame = 24
  71              		@ frame_needed = 0, uses_anonymous_args = 0
  72 0000 30B5     		push	{r4, r5, lr}
  73              	.LCFI1:
  74              		.cfi_def_cfa_offset 12
  75              		.cfi_offset 4, -12
  76              		.cfi_offset 5, -8
  77              		.cfi_offset 14, -4
   8:app/serial_log/serial_log.c ****   thread_handle = osThreadCreate(osThread(serial_log_thread), NULL);
  78              		.loc 1 8 0
  79 0002 074D     		ldr	r5, .L6
   7:app/serial_log/serial_log.c ****   osThreadDef(serial_log_thread, thread, osPriorityNormal, 0, 128);
  80              		.loc 1 7 0
  81 0004 87B0     		sub	sp, sp, #28
  82              	.LCFI2:
  83              		.cfi_def_cfa_offset 40
   8:app/serial_log/serial_log.c ****   thread_handle = osThreadCreate(osThread(serial_log_thread), NULL);
  84              		.loc 1 8 0
  85 0006 01AC     		add	r4, sp, #4
  86 0008 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
  87 000a 0FC4     		stmia	r4!, {r0, r1, r2, r3}
  88 000c 2B68     		ldr	r3, [r5]
   9:app/serial_log/serial_log.c **** }
  89              		.loc 1 9 0
  90 000e 0021     		movs	r1, #0
ARM GAS  /tmp/ccpvwZBq.s 			page 3


  91 0010 01A8     		add	r0, sp, #4
   8:app/serial_log/serial_log.c ****   thread_handle = osThreadCreate(osThread(serial_log_thread), NULL);
  92              		.loc 1 8 0
  93 0012 2360     		str	r3, [r4]
   9:app/serial_log/serial_log.c **** }
  94              		.loc 1 9 0
  95 0014 FFF7FEFF 		bl	osThreadCreate
  96              	.LVL4:
  97 0018 024B     		ldr	r3, .L6+4
  98 001a 1860     		str	r0, [r3]
  10:app/serial_log/serial_log.c **** 
  99              		.loc 1 10 0
 100 001c 07B0     		add	sp, sp, #28
 101              	.LCFI3:
 102              		.cfi_def_cfa_offset 12
 103              		@ sp needed
 104 001e 30BD     		pop	{r4, r5, pc}
 105              	.L7:
 106              		.align	2
 107              	.L6:
 108 0020 00000000 		.word	.LANCHOR0
 109 0024 00000000 		.word	thread_handle
 110              		.cfi_endproc
 111              	.LFE65:
 113              		.comm	thread_handle,4,4
 114              		.section	.rodata
 115              		.align	2
 116              		.set	.LANCHOR0,. + 0
 117              	.LC3:
 118 0000 00000000 		.word	.LC0
 119 0004 00000000 		.word	thread
 120 0008 0000     		.short	0
 121 000a 0000     		.space	2
 122 000c 00000000 		.word	0
 123 0010 80000000 		.word	128
 124              		.section	.rodata.str1.1,"aMS",%progbits,1
 125              	.LC0:
 126 0000 73657269 		.ascii	"serial_log_thread\000"
 126      616C5F6C 
 126      6F675F74 
 126      68726561 
 126      6400
 127              		.section	.rodata.thread.str1.1,"aMS",%progbits,1
 128              	.LC2:
 129 0000 68656C6C 		.ascii	"hello\012\000"
 129      6F0A00
 130              		.text
 131              	.Letext0:
 132              		.file 2 "/opt/gcc-arm-none-eabi-6-2017-q1-update/arm-none-eabi/include/machine/_default_types.h"
 133              		.file 3 "/opt/gcc-arm-none-eabi-6-2017-q1-update/arm-none-eabi/include/sys/lock.h"
 134              		.file 4 "/opt/gcc-arm-none-eabi-6-2017-q1-update/arm-none-eabi/include/sys/_types.h"
 135              		.file 5 "/opt/gcc-arm-none-eabi-6-2017-q1-update/lib/gcc/arm-none-eabi/6.3.1/include/stddef.h"
 136              		.file 6 "/opt/gcc-arm-none-eabi-6-2017-q1-update/arm-none-eabi/include/sys/reent.h"
 137              		.file 7 "/opt/gcc-arm-none-eabi-6-2017-q1-update/arm-none-eabi/include/sys/_stdint.h"
 138              		.file 8 "Drivers/CMSIS/Include/core_cm3.h"
 139              		.file 9 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
 140              		.file 10 "Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h"
ARM GAS  /tmp/ccpvwZBq.s 			page 4


 141              		.file 11 "Middlewares/ST/STM32_USB_Device_Library/Class/CDC/Inc/usbd_cdc.h"
 142              		.file 12 "Inc/usbd_cdc_if.h"
 143              		.file 13 "Middlewares/Third_Party/FreeRTOS/Source/include/task.h"
 144              		.file 14 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
ARM GAS  /tmp/ccpvwZBq.s 			page 5


DEFINED SYMBOLS
                            *ABS*:0000000000000000 serial_log.c
     /tmp/ccpvwZBq.s:16     .text.thread:0000000000000000 $t
     /tmp/ccpvwZBq.s:22     .text.thread:0000000000000000 thread
     /tmp/ccpvwZBq.s:53     .text.thread:0000000000000018 $d
     /tmp/ccpvwZBq.s:59     .text.serial_log_init:0000000000000000 $t
     /tmp/ccpvwZBq.s:66     .text.serial_log_init:0000000000000000 serial_log_init
     /tmp/ccpvwZBq.s:108    .text.serial_log_init:0000000000000020 $d
                            *COM*:0000000000000004 thread_handle
     /tmp/ccpvwZBq.s:115    .rodata:0000000000000000 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
CDC_Transmit_FS
osDelay
osThreadCreate
